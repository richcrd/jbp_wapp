@* @model jbp_wapp.Models.PerfilPostulante

@{
    var userRole = User.FindFirst(System.Security.Claims.ClaimTypes.Role)?.Value;
}

<h2>@(userRole == "2" ? "Editar Perfil de Postulante" : "Editar Información Básica")</h2>

<form method="post" enctype="multipart/form-data">
    @Html.AntiForgeryToken()

    @if (userRole == "2")
    {
         <div class="form-group">
            <label for="IdProfesion">Profesion</label>
            <select asp-for="IdProfesion" class="form-control">
                @foreach (var prof in ViewBag.Profesiones as IEnumerable<Profesiones>)
                {
                    <option value="@prof.Id" selected="@(Model.IdProfesion == prof.Id)">
                        @prof.Nombre
                    </option>
                }
            </select>
        </div>

        <div class="form-group">
            <label for="IdExperiencia">Experiencia</label>
            <select asp-for="IdExperiencia" class="form-control">
                @foreach (var experiencia in ViewBag.Experiencias as IEnumerable<Experiencia>)
                {
                    <option value="@experiencia.Id" selected="@(Model.IdExperiencia == experiencia.Id)">
                        @experiencia.Descripcion
                    </option>
                }
            </select>
        </div>

        <div class="form-group">
            <label for="IdDepartamento">Departamento</label>
            <select asp-for="IdDepartamento" class="form-control">
                @foreach (var dpto in ViewBag.Departamentos as IEnumerable<Departamento>)
                {
                    <option value="@dpto.Id" selected="@(Model.IdDepartamento == dpto.Id)">
                        @dpto.Nombre
                    </option>
                }
            </select>
        </div>

        <div class="form-group">
            <label for="CvFile">Subir CV (opcional)</label>
            <input type="file" name="cvFile" class="form-control" id="CvFile" />
        </div>
    }
    else
    {
        <div class="form-group">
            <label for="Nombre">Nombre</label>
            <input type="text" name="Nombre" class="form-control" id="Nombre" value="@Model.Nombre" required />
        </div>

        <div class="form-group">
            <label for="Apellido">Apellido</label>
            <input type="text" name="Apellido" class="form-control" id="Apellido" value="@Model.Apellido" required />
        </div>

        <div class="form-group">
            <label for="Correo">Correo</label>
            <input type="email" name="Correo" class="form-control" id="Correo" value="@Model.Correo" required />
        </div>

        <div class="form-group">
            <label for="IdDepartamento">Departamento</label>
            <select asp-for="IdDepartamento" class="form-control">
                @foreach (var dpto in ViewBag.Departamentos as IEnumerable<Departamento>)
                {
                    <option value="@dpto.Id" selected="@(Model.IdDepartamento == dpto.Id)">
                        @dpto.Nombre
                    </option>
                }
            </select>
        </div>
    }

    <button type="submit" class="btn btn-primary">Guardar Cambios</button>
</form> *@
