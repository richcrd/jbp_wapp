@{
    ViewData["Title"] = "Iniciar Sesion";
}

@* @model TblUsuario *@

<h2>Inicio de sesion</h2>

<form id="loginForm">
    <label>Correo</label>
    <input type="email" id="Correo" required />

    <label>Contrasena</label>
    <input type="password" id="Contrasena" required />

    <button type="button" id="loginButton">Iniciar sesion</button>
    <a asp-controller="Account" asp-action="Signup">No tienes cuenta?</a>
</form>
<script>
    document.getElementById('loginButton').addEventListener('click', function () {
        const loginData: {
            correo: document.getElementById('Correo').value,
            contrasena: document.getElementById('Contrasena').value
        };

        if (!loginData.correo || !loginData.contrasena) {
            alert("Por favor complete todos los campos");
            return;
        }

        fetch('/Account/Login', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(loginData)
        })
            .then(response => {
                if (response.ok {
                    alert("Inicio de sesion exitoso"));
                    window.location.href = "/Home/Index"
            } else {
                alert("Correo o contrasena incorrectos");
            }
            })
        .catch(error => console.error('Error', error));
    });
</script>
@* <form asp-action="Login" method="post">
    <label>Correo:</label>
    <input name="correo" />
    <label>Contraseña:</label>
    <input name="contrasena" type="password" />
    <button type="submit">Ingresar</button>
    <a asp-controller="Account" asp-action="Signup">No tienes cuenta?</a>
</form> *@

